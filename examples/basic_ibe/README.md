# Basic Identity Based Encryption

> [!IMPORTANT]  
> These support libraries are under active development and are subject to change. Access to the repositories have been opened to allow for early feedback. Please check back regularly for updates.

The **Basic IBE** example demonstrates how to use **VetKeys** to implement secure messaging between users from Identity Based Encryption (IBE) on the **Internet Computer (IC)**. This application allows users to send encrypted messages to other users using their **Internet Identity Principal** as the encryption key identifier. The canister (IC smart contract) ensures that only the authenticated user can access their private decryption key, meaning that even if someone else knows your principal, they cannot decrypt messages intended for you because neither other users nor the canister can access your private key.

## Features

- **Secure Messaging**: Uses VetKey's IBE capabilities to encrypt messages that can only be decrypted by the intended recipient.
- **Principal-Based Encryption**: Messages are encrypted using the recipient's principal as the public key identifier.
- **Private Key Management**: Each user's private decryption key is generated by the VetKD protocol and encrypted using user's transport key, making it inaccessible to the canister itself. The canister only handles the encrypted keys and forwards them to the authenticated users.

## Setup

### Prerequisites

- [Internet Computer software development kit](https://internetcomputer.org/docs/building-apps/getting-started/install)
- [npm](https://www.npmjs.com/package/npm)

### Install Dependencies

```bash
npm install
```

### Deploy the Canisters

Run the local deployment script, which starts the local development environment (`dfx`) if necessary, builds both backend and frontend (asset) canisters, and installs them locally.
```bash
bash deploy_locally.sh
```

Note that currently in a local deployment, the chainkey *testing* canister is used to mock the VetKD protocol.

## Example Components

### Backend

The backend consists of a canister that manages encrypted messages and interfaces with VetKD for key management.

### Frontend

The frontend is a vanilla typescript application providing a simple interface for sending, receiving, and deleting encrypted messages.

To run the frontend in development mode with hot reloading (after running `deploy_locally.sh`):

```bash
npm run dev
```

## Additional Resources

- **[What are VetKeys](https://internetcomputer.org/docs/building-apps/network-features/encryption/vetkeys)** - For more information about VetKeys and VetKD.
